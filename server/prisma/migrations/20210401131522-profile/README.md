# Migration `20210401131522-profile`

This migration has been generated by sungueKim at 4/1/2021, 10:15:22 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Profile" (
"id" SERIAL,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"bio" text   ,
"loction" text   ,
"website" text   ,
"avatar" text   ,
"userId" integer   ,
PRIMARY KEY ("id")
)

CREATE TABLE "public"."Tweet" (
"id" SERIAL,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"content" text   NOT NULL ,
"authorId" integer   ,
PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Profile.userId_unique" ON "public"."Profile"("userId")

ALTER TABLE "public"."Profile" ADD FOREIGN KEY("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE "public"."Tweet" ADD FOREIGN KEY("authorId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210322104726-second..20210401131522-profile
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Post {
   id        Int     @default(autoincrement()) @id
@@ -21,5 +21,26 @@
   email    String  @unique
   password String  @default("")
   name     String?
   posts    Post[]
+  Profile Profile?
+  Tweet Tweet[]
+}
+
+model Profile{
+  id Int @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  bio String?
+  loction String?
+  website String?
+  avatar String?
+  userId Int? @unique
+  User User? @relation(fields: [userId],references:[id])
+}
+
+model Tweet{
+  id Int @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  content String
+  author User? @relation(fields: [authorId],references:[id])
+  authorId Int?
 }
```


